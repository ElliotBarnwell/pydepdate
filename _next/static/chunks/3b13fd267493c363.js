(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";e.s(["default",()=>h],52683);var t=e.i(43476),r=e.i(71645),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=r.default.createContext&&r.default.createContext(a),s=["attr","size","title"];function n(){return(n=Object.assign.bind()).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var a,l,s;a=e,l=t,s=r[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in a?Object.defineProperty(a,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[l]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e){return t=>r.default.createElement(d,n({attr:i({},e.attr)},t),function e(t){return t&&t.map((t,a)=>r.default.createElement(t.tag,i({key:a},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var a,{attr:l,size:c,title:o}=e,d=function(e,t){if(null==e)return{};var r,a,l=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,s),u=c||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.default.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,d,{className:a,style:i(i({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.default.createElement("title",null,o),e.children)};return void 0!==l?r.default.createElement(l.Consumer,null,e=>t(e)):t(a)}function u(e){return o({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function p(e){return o({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function g(e){let{releases:a,startDate:l,endDate:s}=e,[n,c]=(0,r.useState)({}),[i,o]=(0,r.useState)(Object.keys(a)),[d,u]=(0,r.useState)([]),p=(0,r.useCallback)(e=>{let t=new Date(e.date);return(!l||!(t<l))&&(!s||!(t>s))&&!isNaN(new Date(e.date).getTime())},[l,s]),g=(0,r.useCallback)(e=>{let t={};if(!l&&!s)return e;for(let[r,a]of Object.entries(e))t[r]=a.filter(e=>p(e));return t},[p,l,s]),h=(0,r.useCallback)(e=>{let t=new Set;return Object.values(e).forEach(e=>{e.forEach(e=>{p(e)&&t.add(e.date)})}),Array.from(t).sort((e,t)=>new Date(e).getTime()-new Date(t).getTime())},[p]);return(0,r.useEffect)(()=>{o(Object.keys(a)),c(g(a)),u(h(a))},[a,g,h]),(0,t.jsxs)("div",{className:"relative overflow-x-auto px-5",children:[(0,t.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,t.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Release Date (DD/MM/YYYY)"}),i.map(e=>(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:e},e))]})}),(0,t.jsx)("tbody",{children:d.map(e=>(0,t.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200",children:[(0,t.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:new Date(e).toLocaleDateString("en-GB")}),i.map(r=>{var a;let l=null==(a=n[r])?void 0:a.find(t=>t.date===e);return(0,t.jsx)("td",{className:"px-6 py-4",children:l?l.version:"-"},r)})]},e))})]}),(0,t.jsx)("div",{})]})}function h(){let[e,a]=(0,r.useState)([]),[l,s]=(0,r.useState)([""]),[n,c]=(0,r.useState)(1),[i,o]=(0,r.useState)({}),[d,h]=(0,r.useState)(!0),[f,b]=(0,r.useState)(new Date("2000-01-01")),[m,x]=(0,r.useState)(new Date),[y,v]=(0,r.useState)(!1),[j,w]=(0,r.useState)(null);return((0,r.useEffect)(()=>{!async function(){h(!0),w(null);try{let t=[],r=await Promise.all(e.map(async e=>{let r=await fetch("https://pypi.org/pypi/".concat(e,"/json")),a=await r.json();if(200!==r.status)return t.push(e),[e,[]];let l=Object.entries(a.releases).map(e=>{var t,r;let[a,l]=e;return{version:a,date:null!=(r=null==l||null==(t=l[0])?void 0:t.upload_time)?r:"unknown"}});return[e,l]}));o(Object.fromEntries(r)),t.length>0&&w("Invalid package names: ".concat(t.join(", ")))}catch(e){console.error(e)}finally{h(!1)}}()},[e]),d)?(0,t.jsx)("p",{children:"Loadingâ€¦"}):(0,t.jsxs)("main",{className:"p-6",children:[j&&(0,t.jsxs)("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:[(0,t.jsx)("span",{className:"font-medium",children:"Error!"})," ",j]}),(0,t.jsx)("h1",{className:"text-5xl font-bold mb-4 p-5",children:"PyPI Package History Viewer"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(l.map(e=>e.trim()))},className:"mb-4 items-center space-x-2",children:[(0,t.jsxs)("label",{className:"inline-flex items-center cursor-pointer p-5",children:[(0,t.jsx)("input",{type:"checkbox",value:"",className:"sr-only peer",checked:y,onChange:()=>v(e=>!e)}),(0,t.jsx)("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600 dark:peer-checked:bg-blue-600"}),(0,t.jsx)("span",{className:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Use Date Picker"})]}),(0,t.jsx)("br",{}),y&&(0,t.jsxs)("div",{id:"date-range-picker","date-rangepicker":"true",className:"flex items-center p-5",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none p-5",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})})}),(0,t.jsx)("input",{id:"datepicker-range-start",name:"start",type:"date",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date start",value:f?f.toISOString().split("T")[0]:"",onChange:e=>{b(e.target.value?new Date(e.target.value):null)}})]}),(0,t.jsx)("span",{className:"mx-4 text-gray-500",children:"to"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none p-5",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})})}),(0,t.jsx)("input",{id:"datepicker-range-end",name:"end",type:"date",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date end",value:m?m.toISOString().split("T")[0]:"",onChange:e=>{x(e.target.value?new Date(e.target.value):null)}})]})]}),l.map((e,r)=>(0,t.jsx)("div",{className:"flex items-center space-x-2 px-5 py-3",children:(0,t.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{let r=[...l];r[e]=t,s(r)})(r,e.target.value),placeholder:"Package #".concat(r+1),className:"border p-2 rounded w-60"})},r)),(0,t.jsxs)("div",{className:"flex items-center space-x-2 p-5",children:[(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Show History"}),(0,t.jsx)("button",{type:"button",className:"p-2",onClick:()=>void(c(n+1),s([...l,""])),children:(0,t.jsx)(p,{})}),(0,t.jsx)("button",{type:"button",className:"p-2",onClick:()=>void(!(n<=1)&&(c(n-1),s(l.slice(0,-1)))),children:(0,t.jsx)(u,{})})]})]}),(0,t.jsx)(g,{releases:i,startDate:f,endDate:m})]})}}]);